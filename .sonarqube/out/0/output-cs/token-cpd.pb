ã
"D:\EF7Assessment\PatientContext.cs
	namespace 	#
PatientManagementSystem
 !
{ 
public 

class 
PatientContext 
:  !
	DbContext" +
{		 
public

 
DbSet

 
<

 
Patient

 
>

 
Patients

 &
{

' (
get

) ,
;

, -
set

. 1
;

1 2
}

3 4
public 
object 
? 
Patient 
{  
get! $
;$ %
internal& .
set/ 2
;2 3
}4 5
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
IConfigurationRoot 
configuration ,
=- .
new/ 2 
ConfigurationBuilder3 G
(G H
)H I
. 
SetBasePath &
(& '
	Directory' 0
.0 1
GetCurrentDirectory1 D
(D E
)E F
)F G
. 
AddJsonFile &
(& '
$str' 9
)9 :
. 
Build  
(  !
)! "
;" #
string 
connectionString #
=$ %
configuration& 3
.3 4
GetConnectionString4 G
(G H
$strH [
)[ \
;\ ]
optionsBuilder 
. 
UseMySQL #
(# $
connectionString$ 4
)4 5
;5 6
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Patient  '
>' (
(( )
entity) /
=>0 2
{   
entity!! 
.!! 
HasKey!! 
(!! 
e!! 
=>!!  "
e!!# $
.!!$ %
	PatientID!!% .
)!!. /
;!!/ 0
entity"" 
."" 
Property"" 
(""  
e""  !
=>""" $
e""% &
.""& '
PatientName""' 2
)""2 3
;""3 4
entity## 
.## 
Property## 
(##  
e##  !
=>##" $
e##% &
.##& '

PatientAge##' 1
)##1 2
;##2 3
entity$$ 
.$$ 
Property$$ 
($$  
e$$  !
=>$$" $
e$$% &
.$$& '
PatientEmail$$' 3
)$$3 4
;$$4 5
entity%% 
.%% 
Property%% 
(%%  
e%%  !
=>%%" $
e%%% &
.%%& '
PatientBloodGroup%%' 8
)%%8 9
.%%9 :

IsRequired%%: D
(%%D E
)%%E F
;%%F G
entity&& 
.&& 
Property&& 
(&&  
e&&  !
=>&&" $
e&&% &
.&&& '
PatientLocation&&' 6
)&&6 7
;&&7 8
}'' 
)'' 
;'' 
}(( 	
})) 
}** »	
 D:\EF7Assessment\PatientModel.cs
	namespace 	#
PatientManagementSystem
 !
{ 
public 

class 
Patient 
{ 
public 
int 
	PatientID 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
PatientName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 

PatientAge 
{  
get! $
;$ %
set& )
;) *
}+ ,
public		 
string		 
?		 
PatientEmail		 #
{		$ %
get		& )
;		) *
set		+ .
;		. /
}		0 1
public

 
string

 
?

 
PatientBloodGroup

 (
{

) *
get

+ .
;

. /
set

0 3
;

3 4
}

4 5
public 
string 
? 
PatientLocation &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} úñ
D:\EF7Assessment\Program.cs
	namespace 	#
PatientManagementSystem
 !
{ 
static 
class	 
Program 
{		 
static

 

void

 
Main

 
(

 
string

 
[

 
]

 
args

 "
)

" #
{ 
for 
( 	
;	 

; 
) 
{ 
Console 
. 
	WriteLine 
( 
$str B
)B C
;C D
Console 
. 
	WriteLine 
( 
) 
; 
Console 
. 
	WriteLine 
( 
$str B
)B C
;C D
Console 
. 
	WriteLine 
( 
) 
; 
Console 
. 
	WriteLine 
( 
$str &
)& '
;' (
Console 
. 
	WriteLine 
( 
$str %
)% &
;& '
Console 
. 
	WriteLine 
( 
$str &
)& '
;' (
Console 
. 
	WriteLine 
( 
$str &
)& '
;' (
Console 
. 
	WriteLine 
( 
$str #
)# $
;$ %
Console 
. 
	WriteLine 
( 
) 
; 
Console 
. 
Write 
( 
$str +
)+ ,
;, -
string 
? 
choice 
= 
Console  
.  !
ReadLine! )
() *
)* +
;+ ,
switch 
( 
choice 
) 
{ 	
case
 
$str 
: 

InsertData 
( 
) 
; 
break 
; 
case  
 
$str   
:   
	PrintData!! 
(!! 
)!! 
;!! 
break## 
;## 
case$$
 
$str$$ 
:$$ 

UpdateData%% 
(%% 
)%% 
;%% 
break'' 
;'' 
case((
 
$str(( 
:(( 

RemoveData)) 
()) 
))) 
;)) 
break** 
;** 
case++
 
$str++ 
:++ 
Environment,, 
.,, 
Exit,, 
(,, 
$num,, 
),, 
;,,  
break-- 
;-- 
default..
 
:.. 
Console// 
.// 
	WriteLine// 
(// 
$str// A
)//A B
;//B C
break00 
;00 
}11 	
}22 
}33 
private55 
static55 
void55 

InsertData55 "
(55" #
)55# $
{66 
using77 
(77 
var77 
context77 
=77 
new77 
PatientContext77 -
(77- .
)77. /
)77/ 0
{88 
context:: 
.:: 
Database:: 
.:: 
EnsureCreated:: &
(::& '
)::' (
;::( )
Console<< 
.<< 
	WriteLine<< 
(<< 
$str<< 2
)<<2 3
;<<3 4
int== 
	PatientID== 
=== 
Convert== 
.==  
ToInt32==  '
(==' (
Console==( /
.==/ 0
ReadLine==0 8
(==8 9
)==9 :
)==: ;
;==; <
Console>> 
.>> 
	WriteLine>> 
(>> 
$str>> 4
)>>4 5
;>>5 6
string?? 
??? 
PatientName?? 
=?? 
Console?? %
.??% &
ReadLine??& .
(??. /
)??/ 0
;??0 1
Console@@	 
.@@ 
	WriteLine@@ 
(@@ 
$str@@ 4
)@@4 5
;@@5 6
intAA 

PatientAgeAA 
=AA 
ConvertAA  
.AA  !
ToInt32AA! (
(AA( )
ConsoleAA) 0
.AA0 1
ReadLineAA1 9
(AA9 :
)AA: ;
)AA; <
;AA< =
ConsoleBB 
.BB 
	WriteLineBB 
(BB 
$strBB 5
)BB5 6
;BB6 7
stringCC 
?CC 
PatientEmailCC 
=CC 
ConsoleCC &
.CC& '
ReadLineCC' /
(CC/ 0
)CC0 1
;CC1 2
ConsoleDD 
.DD 
	WriteLineDD 
(DD 
$strDD :
)DD: ;
;DD; <
stringEE 
?EE 
PatientBloodGroupEE !
=EE" #
ConsoleEE$ +
.EE+ ,
ReadLineEE, 4
(EE4 5
)EE5 6
;EE6 7
ConsoleFF 
.FF 
	WriteLineFF 
(FF 
$strFF 8
)FF8 9
;FF9 :
stringGG 
?GG 
PatientLocationGG 
=GG  !
ConsoleGG" )
.GG) *
ReadLineGG* 2
(GG2 3
)GG3 4
;GG4 5
contextII 
.II 
PatientsII 
.II 
AddII 
(II 
newII  
PatientII! (
{JJ 	
	PatientIDKK
 
=KK 
	PatientIDKK 
,KK  
PatientNameLL
 
=LL 
PatientNameLL #
,LL# $

PatientAgeMM
 
=MM 

PatientAgeMM !
,MM! "
PatientEmailNN
 
=NN 
PatientEmailNN %
,NN% &
PatientBloodGroupOO
 
=OO 
PatientBloodGroupOO /
,OO/ 0
PatientLocationPP
 
=PP 
PatientLocationPP +
}QQ 	
)QQ	 

;QQ
 
contextTT 
.TT 
SaveChangesTT 
(TT 
)TT 
;TT 
}UU 
}VV 
privateXX 
staticXX 
voidXX 
	PrintDataXX !
(XX! "
)XX" #
{YY 
using[[ 
([[ 
var[[ 
context[[ 
=[[ 
new[[ 
PatientContext[[ -
([[- .
)[[. /
)[[/ 0
{\\ 
var]] 
Patients]] 
=]] 
context]] 
.]] 
Patients]] '
;]]' (
foreach^^ 
(^^ 
var^^ 
Patient^^ 
in^^ 
Patients^^  (
)^^( )
{__ 	
var``
 
data`` 
=`` 
new`` 
StringBuilder`` &
(``& '
)``' (
;``( )
dataaa
 
.aa 

AppendLineaa 
(aa 
$"aa 
$straa (
{aa( )
Patientaa) 0
.aa0 1
	PatientIDaa1 :
}aa: ;
"aa; <
)aa< =
;aa= >
databb
 
.bb 

AppendLinebb 
(bb 
$"bb 
$strbb *
{bb* +
Patientbb+ 2
.bb2 3
PatientNamebb3 >
}bb> ?
"bb? @
)bb@ A
;bbA B
datacc
 
.cc 

AppendLinecc 
(cc 
$"cc 
$strcc )
{cc) *
Patientcc* 1
.cc1 2

PatientAgecc2 <
}cc< =
"cc= >
)cc> ?
;cc? @
datadd
 
.dd 

AppendLinedd 
(dd 
$"dd 
$strdd +
{dd+ ,
Patientdd, 3
.dd3 4
PatientEmaildd4 @
}dd@ A
"ddA B
)ddB C
;ddC D
dataee
 
.ee 

AppendLineee 
(ee 
$"ee 
$stree 1
{ee1 2
Patientee2 9
.ee9 :
PatientBloodGroupee: K
}eeK L
"eeL M
)eeM N
;eeN O
dataff
 
.ff 

AppendLineff 
(ff 
$"ff 
$strff .
{ff. /
Patientff/ 6
.ff6 7
PatientLocationff7 F
}ffF G
"ffG H
)ffH I
;ffI J
Consolegg
 
.gg 
	WriteLinegg 
(gg 
datagg  
.gg  !
ToStringgg! )
(gg) *
)gg* +
)gg+ ,
;gg, -
}hh 	
}ii 
}jj 
privatell 
staticll 
voidll 

UpdateDatall "
(ll" #
)ll# $
{mm 
usingnn 
(nn 
varnn 
contextnn 
=nn 
newnn 
PatientContextnn -
(nn- .
)nn. /
)nn/ 0
{oo 
Consoleqq 
.qq 
	WriteLineqq 
(qq 
$strqq -
)qq- .
;qq. /
	PrintDatarr 
(rr 
)rr 
;rr 
Consolett 
.tt 
Writett 
(tt 
$strtt I
)ttI J
;ttJ K
intuu 
isbnToUpdateuu 
=uu 
Convertuu "
.uu" #
ToInt32uu# *
(uu* +
Consoleuu+ 2
.uu2 3
ReadLineuu3 ;
(uu; <
)uu< =
)uu= >
;uu> ?
varww 
PatientToUpdateww 
=ww 
contextww %
.ww% &
Patientsww& .
.ww. /
FirstOrDefaultww/ =
(ww= >
bww> ?
=>ww@ B
bwwC D
.wwD E
	PatientIDwwE N
==wwO Q
isbnToUpdatewwR ^
)ww^ _
;ww_ `
ifyy 

(yy 
PatientToUpdateyy 
!=yy 
nullyy #
)yy# $
{zz 	
Console{{
 
.{{ 
	WriteLine{{ 
({{ 
$str{{ 3
){{3 4
;{{4 5
Console||
 
.|| 
	WriteLine|| 
(|| 
$str|| 5
)||5 6
;||6 7
Console}}
 
.}} 
	WriteLine}} 
(}} 
$str}} -
)}}- .
;}}. /
Console~~
 
.~~ 
	WriteLine~~ 
(~~ 
$str~~ ,
)~~, -
;~~- .
Console
 
. 
	WriteLine 
( 
$str .
). /
;/ 0
Console
ÄÄ
 
.
ÄÄ 
	WriteLine
ÄÄ 
(
ÄÄ 
$str
ÄÄ 4
)
ÄÄ4 5
;
ÄÄ5 6
Console
ÅÅ
 
.
ÅÅ 
	WriteLine
ÅÅ 
(
ÅÅ 
$str
ÅÅ 1
)
ÅÅ1 2
;
ÅÅ2 3
string
ÇÇ
 
?
ÇÇ 
updatechoice
ÇÇ 
=
ÇÇ  
Console
ÇÇ! (
.
ÇÇ( )
ReadLine
ÇÇ) 1
(
ÇÇ1 2
)
ÇÇ2 3
;
ÇÇ3 4
string
ÉÉ
 
?
ÉÉ 

updatedata
ÉÉ 
=
ÉÉ 
null
ÉÉ #
;
ÉÉ# $
switch
ÑÑ
 
(
ÑÑ 
updatechoice
ÑÑ 
)
ÑÑ 
{
ÖÖ
 
case
ÜÜ 
$str
ÜÜ 
:
ÜÜ 

updatedata
áá 
=
áá 
$str
áá (
;
áá( )
Console
àà 
.
àà 
	WriteLine
àà 
(
àà  
$"
àà  "
$str
àà" 0
{
àà0 1
PatientToUpdate
àà1 @
.
àà@ A
PatientName
ààA L
}
ààL M
"
ààM N
)
ààN O
;
ààO P
Console
ââ 
.
ââ 
Write
ââ 
(
ââ 
$str
ââ .
)
ââ. /
;
ââ/ 0
string
ää 
?
ää 
newName
ää 
=
ää 
Console
ää  '
.
ää' (
ReadLine
ää( 0
(
ää0 1
)
ää1 2
;
ää2 3
PatientToUpdate
ãã 
.
ãã 
PatientName
ãã )
=
ãã* +
newName
ãã, 3
;
ãã3 4
break
åå 
;
åå 
case
çç 
$str
çç 
:
çç 

updatedata
éé 
=
éé 
$str
éé '
;
éé' (
Console
êê 
.
êê 
	WriteLine
êê 
(
êê  
$"
êê  "
$str
êê" 7
{
êê7 8
PatientToUpdate
êê8 G
.
êêG H

PatientAge
êêH R
}
êêR S
"
êêS T
)
êêT U
;
êêU V
Console
ëë 
.
ëë 
Write
ëë 
(
ëë 
$str
ëë 5
)
ëë5 6
;
ëë6 7
int
íí 
newPatientAge
íí 
=
íí  !
Convert
íí! (
.
íí( )
ToInt32
íí) 0
(
íí0 1
Console
íí1 8
.
íí8 9
ReadLine
íí9 A
(
ííA B
)
ííB C
)
ííC D
;
ííD E
PatientToUpdate
ìì 
.
ìì 

PatientAge
ìì (
=
ìì) *
newPatientAge
ìì+ 8
;
ìì8 9
break
îî 
;
îî 
case
ïï 
$str
ïï 
:
ïï 

updatedata
ññ 
=
ññ 
$str
ññ )
;
ññ) *
Console
óó 
.
óó 
	WriteLine
óó 
(
óó  
$"
óó  "
$str
óó" 1
{
óó1 2
PatientToUpdate
óó2 A
.
óóA B
PatientEmail
óóB N
}
óóN O
"
óóO P
)
óóP Q
;
óóQ R
Console
òò 
.
òò 
Write
òò 
(
òò 
$str
òò /
)
òò/ 0
;
òò0 1
string
ôô 
?
ôô 
newEmail
ôô 
=
ôô  
Console
ôô! (
.
ôô( )
ReadLine
ôô) 1
(
ôô1 2
)
ôô2 3
;
ôô3 4
PatientToUpdate
öö 
.
öö 
PatientEmail
öö *
=
öö+ ,
newEmail
öö- 5
;
öö5 6
break
õõ 
;
õõ 
case
úú 
$str
úú 
:
úú 

updatedata
ùù 
=
ùù 
$str
ùù .
;
ùù. /
Console
ûû 
.
ûû 
	WriteLine
ûû 
(
ûû  
$"
ûû  "
$str
ûû" :
{
ûû: ;
PatientToUpdate
ûû; J
.
ûûJ K
PatientBloodGroup
ûûK \
}
ûû\ ]
"
ûû] ^
)
ûû^ _
;
ûû_ `
Console
üü 
.
üü 
Write
üü 
(
üü 
$str
üü 8
)
üü8 9
;
üü9 :
string
†† 
?
†† 
newBloodGroup
†† #
=
††$ %
Console
††& -
.
††- .
ReadLine
††. 6
(
††6 7
)
††7 8
;
††8 9
PatientToUpdate
°° 
.
°° 
PatientBloodGroup
°° /
=
°°0 1
newBloodGroup
°°2 ?
;
°°? @
break
¢¢ 
;
¢¢ 
case
££ 
$str
££ 
:
££ 

updatedata
§§ 
=
§§ 
$str
§§ ,
;
§§, -
Console
•• 
.
•• 
	WriteLine
•• 
(
••  
$"
••  "
$str
••" 7
{
••7 8
PatientToUpdate
••8 G
.
••G H
PatientLocation
••H W
}
••W X
"
••X Y
)
••Y Z
;
••Z [
Console
¶¶ 
.
¶¶ 
Write
¶¶ 
(
¶¶ 
$str
¶¶ 4
)
¶¶4 5
;
¶¶5 6
string
ßß 
?
ßß 
newLocation
ßß !
=
ßß" #
Console
ßß$ +
.
ßß+ ,
ReadLine
ßß, 4
(
ßß4 5
)
ßß5 6
;
ßß6 7
PatientToUpdate
®® 
.
®® 
PatientLocation
®® -
=
®®. /
newLocation
®®0 ;
;
®®; <
break
©© 
;
©© 
}
´´
 
context
¨¨
 
.
¨¨ 
SaveChanges
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨  
}
≠≠ 	
else
ØØ 
{
∞∞ 	
Console
±±
 
.
±± 
	WriteLine
±± 
(
±± 
$"
±± 
$str
±± 6
{
±±6 7
isbnToUpdate
±±7 C
}
±±C D
$str
±±D R
"
±±R S
)
±±S T
;
±±T U
}
≤≤ 	
}
≥≥ 
}
¥¥ 
private
µµ 
static
µµ 
void
µµ 

RemoveData
µµ "
(
µµ" #
)
µµ# $
{
∂∂ 
using
∑∑ 
(
∑∑ 
var
∑∑ 
context
∑∑ 
=
∑∑ 
new
∑∑ 
PatientContext
∑∑ -
(
∑∑- .
)
∑∑. /
)
∑∑/ 0
{
∏∏ 
Console
∫∫ 
.
∫∫ 
	WriteLine
∫∫ 
(
∫∫ 
$str
∫∫ -
)
∫∫- .
;
∫∫. /
	PrintData
ªª 
(
ªª 
)
ªª 
;
ªª 
Console
ææ 
.
ææ 
Write
ææ 
(
ææ 
$str
ææ 4
)
ææ4 5
;
ææ5 6
int
øø 
isbnToRemove
øø 
=
øø 
Convert
øø "
.
øø" #
ToInt32
øø# *
(
øø* +
Console
øø+ 2
.
øø2 3
ReadLine
øø3 ;
(
øø; <
)
øø< =
)
øø= >
;
øø> ?
var
¬¬ 
PatientToRemove
¬¬ 
=
¬¬ 
context
¬¬ %
.
¬¬% &
Patients
¬¬& .
.
¬¬. /
FirstOrDefault
¬¬/ =
(
¬¬= >
b
¬¬> ?
=>
¬¬@ B
b
¬¬C D
.
¬¬D E
	PatientID
¬¬E N
==
¬¬O Q
isbnToRemove
¬¬R ^
)
¬¬^ _
;
¬¬_ `
if
ƒƒ 

(
ƒƒ 
PatientToRemove
ƒƒ 
!=
ƒƒ 
null
ƒƒ #
)
ƒƒ# $
{
≈≈ 	
Console
««
 
.
«« 
	WriteLine
«« 
(
«« 
$"
«« 
$str
«« <
{
««< =
PatientToRemove
««= L
.
««L M
	PatientID
««M V
}
««V W
$str
««W `
{
««` a
PatientToRemove
««a p
.
««p q
	PatientID
««q z
}
««z {
"
««{ |
)
««| }
;
««} ~
context
  
 
.
   
Patients
   
.
   
Remove
   !
(
  ! "
PatientToRemove
  " 1
)
  1 2
;
  2 3
context
ÕÕ
 
.
ÕÕ 
SaveChanges
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ  
Console
œœ
 
.
œœ 
	WriteLine
œœ 
(
œœ 
$str
œœ 1
)
œœ1 2
;
œœ2 3
}
–– 	
else
—— 
{
““ 	
Console
””
 
.
”” 
	WriteLine
”” 
(
”” 
$"
”” 
$str
”” 5
{
””5 6
isbnToRemove
””6 B
}
””B C
$str
””C N
"
””N O
)
””O P
;
””P Q
}
‘‘ 	
}
÷÷ 
}
ÿÿ 
}
ŸŸ 
}€€ 